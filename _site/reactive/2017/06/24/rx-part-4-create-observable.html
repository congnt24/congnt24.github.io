<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Rx part 4: Creat Observable</title>
  <meta name="description" content="Observable.just(element) In RxJava, Observable.just() will emit each parameters. The max params is 10 Observable.just(1,2,3) // Will emit onNext(1), onNext(2...">

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="http://localhost:4000/reactive/2017/06/24/rx-part-4-create-observable.html">
  <link rel="alternate" type="application/rss+xml" title="Cong Nguyen Blog" href="/feed.xml">
  
  
</head>


  <body>

    <header class="site-header" role="banner">

  <div class="wrapper">
    
    
    <a class="site-title" href="/">Cong Nguyen Blog</a>
  
    
      <nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
              <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
              <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger">
          
            
            
            <a class="page-link" href="/about/">About</a>
            
          
            
            
            <a class="page-link" href="/categories/">Categories</a>
            
          
            
            
          
            
            
          
        </div>
      </nav>
    
  </div>
</header>


    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    
    <img style="width: 100%;" src="https://farm5.staticflickr.com/4280/35347983512_8a315ffeea_o_d.jpg">
    <h1 class="post-title" itemprop="name headline">Rx part 4: Creat Observable</h1>
    <p class="post-meta">
      <time datetime="2017-06-24T00:00:00+07:00" itemprop="datePublished">
        
        Jun 24, 2017
      </time>
      </p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <h2 id="observablejustelement">Observable.just(element)</h2>
<p>In RxJava, Observable.just() will emit each parameters. The max params is 10</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="n">Observable</span><span class="o">.</span><span class="na">just</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">)</span> <span class="c1">// Will emit onNext(1), onNext(2), onNext(3), onComplete()</span>
</code></pre>
</div>

<p>In RxSwift, Observable.just() only emit one time</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kt">Onservable</span><span class="o">.</span><span class="nf">just</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="c1">// Will emit onNext(1,2,3) and onComplete()</span>
</code></pre>
</div>
<!--more-->
<h2 id="observablefromarray">Observable.from(array)</h2>
<p>Using it when you have an array and you want to emit each item in the array</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kt">Observale</span><span class="o">.</span><span class="nf">from</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span> <span class="c1">// Will emit onNext(1), onNext(2), onNext(3), onComplete()</span>
</code></pre>
</div>

<h2 id="observableinterval">Observable.interval</h2>
<p>Create an Observable that emits a sequence of integers spaced by a given time interval.
The below statement will emit data each 1s.</p>

<p>RxKotlin</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="n">Observable</span><span class="o">.</span><span class="na">interval</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">1000</span><span class="o">,</span> <span class="n">TimeUnit</span><span class="o">.</span><span class="na">MILLISECONDS</span><span class="o">)</span>
	<span class="o">.</span><span class="na">subscribe</span><span class="o">(</span> <span class="o">{</span> <span class="n">println</span><span class="o">(</span><span class="s">"Hello world"</span><span class="o">)</span> <span class="o">})</span> <span class="c1">// == onNext</span>
<span class="n">Thread</span><span class="o">.</span><span class="na">sleep</span><span class="o">(</span><span class="mi">10000</span><span class="o">)</span>
</code></pre>
</div>

<p>RxSwift</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kt">Observable</span><span class="o">&lt;</span><span class="kt">Int</span><span class="o">&gt;.</span><span class="nf">interval</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nv">scheduler</span><span class="p">:</span> <span class="kt">MainScheduler</span><span class="o">.</span><span class="n">instance</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">subscribe</span><span class="p">(</span><span class="nv">onNext</span><span class="p">:</span> <span class="p">{</span> <span class="n">i</span> <span class="k">in</span> <span class="nf">print</span><span class="p">(</span><span class="s">"Hello world"</span><span class="p">)</span> <span class="p">})</span>
</code></pre>
</div>

<h2 id="observabledefer">Observable.defer</h2>
<p>Do not create the Observable until a Subscriber subscribes; create a fresh Observable on each subscription</p>

<p><img class="post-image" src="http://reactivex.io/documentation/operators/images/defer.c.png" alt="Defer" /></p>

<p>The Defer operator waits until an observer subscribes to it, and then it generates an Observable, typically with an Observable factory function. It does this afresh for each subscriber, so although each subscriber may think it is subscribing to the same Observable, in fact each subscriber gets its own individual sequence.</p>

<p>In some circumstances, waiting until the last minute (that is, until subscription time) to generate the Observable can ensure that this Observable contains the freshest data.</p>

<p>Example:</p>

<p>RxKotlin / RxJava</p>

<div class="language-kotlin highlighter-rouge"><pre class="highlight"><code><span class="kd">val</span> <span class="py">ob</span> <span class="p">=</span> <span class="n">Observable</span><span class="p">.</span><span class="n">defer</span> <span class="p">{</span> <span class="n">Observable</span><span class="p">.</span><span class="n">just</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">)</span> <span class="p">}</span>
<span class="n">ob</span><span class="p">.</span><span class="n">subscribe</span><span class="p">({</span> <span class="n">println</span><span class="p">(</span><span class="n">it</span><span class="p">)</span> <span class="p">})</span> <span class="c1">// emit onNext(1), onNext(2), onNext(3), onComplete() 
</span><span class="n">ob</span><span class="p">.</span><span class="n">subscribe</span><span class="p">({</span> <span class="n">println</span><span class="p">(</span><span class="n">it</span><span class="p">)</span> <span class="p">})</span> <span class="c1">// emit onNext(1), onNext(2), onNext(3), onComplete()
</span></code></pre>
</div>

<p>RxSwift</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">let</span> <span class="nv">ob</span> <span class="o">=</span> <span class="kt">Observable</span><span class="o">.</span><span class="n">deferred</span> <span class="p">{</span> <span class="kt">Observable</span><span class="o">.</span><span class="nf">from</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span> <span class="p">}</span>
<span class="n">ob</span><span class="o">.</span><span class="nf">subscribe</span><span class="p">(</span><span class="nv">onNext</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
<span class="n">ob</span><span class="o">.</span><span class="nf">subscribe</span><span class="p">(</span><span class="nv">onNext</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>

</code></pre>
</div>

<h2 id="observablecreate">Observable.create</h2>
<p>You can create an Observable from scratch by using the Create operator. You pass this operator a function that accepts the observer as its parameter. Write this function so that it behaves as an Observable — by calling the observer’s onNext, onError, and onCompleted methods appropriately.</p>

<p>A well-formed finite Observable must attempt to call either the observer’s onCompleted method exactly once or its onError method exactly once, and must not thereafter attempt to call any of the observer’s other methods.</p>

<p><strong>Example:</strong></p>

<p>In RxJava / RxKotlin</p>

<div class="language-kotlin highlighter-rouge"><pre class="highlight"><code><span class="kd">val</span> <span class="py">observable</span> <span class="p">=</span> <span class="n">Observable</span><span class="p">.</span><span class="n">create</span><span class="p">&lt;</span><span class="n">Int</span><span class="p">&gt;</span> <span class="p">{</span>
			  <span class="n">doSomething</span><span class="p">()</span>
            <span class="n">it</span><span class="p">.</span><span class="n">onNext</span><span class="p">(</span><span class="m">1</span><span class="p">)</span>
            <span class="n">it</span><span class="p">.</span><span class="n">onNext</span><span class="p">(</span><span class="m">2</span><span class="p">)</span>
            <span class="n">it</span><span class="p">.</span><span class="n">onNext</span><span class="p">(</span><span class="m">3</span><span class="p">)</span>
            <span class="n">it</span><span class="p">.</span><span class="n">onError</span><span class="p">(</span><span class="n">IllegalArgumentException</span><span class="p">())</span>
            <span class="n">it</span><span class="p">.</span><span class="n">onComplete</span><span class="p">()</span>
        <span class="p">}</span>
<span class="n">observable</span><span class="p">.</span><span class="n">subscribe</span><span class="p">({</span> <span class="n">println</span><span class="p">(</span><span class="n">it</span><span class="p">)</span> <span class="p">})</span>

</code></pre>
</div>

<p>In RxSwift is similar.</p>

<h2 id="other">Other</h2>
<p>Here are some other way to create observable:</p>

<ul>
  <li><a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#never()">Observable.never()</a></li>
  <li><a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#empty()">Observable.empty()</a></li>
  <li><a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#range(int,%20int)">Observable.range()</a></li>
  <li><a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#timer(long,%20java.util.concurrent.TimeUnit)">Observable.timer()</a></li>
  <li><a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#error(java.lang.Throwable)">Observable.error()</a></li>
</ul>

  </div>

  
</article>

      </div>
    </main>

    <footer class="site-footer">

  <div class="wrapper">

    <!-- <h2 class="footer-heading">Cong Nguyen Blog</h2> -->

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">

        <ul class="social-media-list">
        <li>
          Contact me
        </li>
        <li>
        <a href="https://www.linkedin.com/in/cong-nguyen-03a873137/"><img style="width: 48px;" alt="linkedin" src="https://farm5.staticflickr.com/4284/35129905270_a8e8b80c31_o_d.png"></a>
        <a href="https://twitter.com/congnt24"><img style="width: 48px;" alt="twitter" src="https://farm5.staticflickr.com/4238/35349259912_f3de153521_o_d.png"></a>
        <a href="mailto:congnt24@hotmail.com"><img style="width: 48px;" alt="add skype me: congnt24@hotmail.com" src="https://farm5.staticflickr.com/4237/35129905210_c97a147c6d_o_d.png"></a>
        <a href="https://github.com/congnt24"><img style="width: 48px;" alt="github" src="https://farm5.staticflickr.com/4236/35349260532_09d8902307_o_d.png"></a>
        <a href="mailto:congnt24@gmail.com"><img style="width: 48px;" alt="gmail" src="https://farm5.staticflickr.com/4239/35129905300_f88c8fb52d_o_d.png"></a>
        
        
        </li>
          <!-- 
          <li>
            <a href="https://github.com/congnt24"><span class="icon icon--github"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">congnt24</span></a>

          </li>
          

           -->
        </ul>
      </div>

      <div class="footer-col footer-col-2">
      <ul class="contact-list">
          <li>
            
              Cong Nguyen
            
            </li>
            
            <li><a href="mailto:congnt24@gmail.com">congnt24@gmail.com</a></li>
            
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>Sharing knowledge for better develop</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>